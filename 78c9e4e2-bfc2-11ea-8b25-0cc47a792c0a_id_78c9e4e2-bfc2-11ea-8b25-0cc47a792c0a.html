<html>
<head><meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<style type="text/css">
<!--
span.cls_003{font-family:Times,serif;font-size:20.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_003{font-family:Times,serif;font-size:20.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_004{font-family:Times,serif;font-size:18.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_004{font-family:Times,serif;font-size:18.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_005{font-family:Times,serif;font-size:14.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_005{font-family:Times,serif;font-size:14.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_006{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_006{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_007{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_007{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_008{font-family:Times,serif;font-size:9.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_008{font-family:Times,serif;font-size:9.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_011{font-family:Times,serif;font-size:15.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_011{font-family:Times,serif;font-size:15.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_009{font-family:Arial,serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_009{font-family:Arial,serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_014{font-family:Times,serif;font-size:10.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_014{font-family:Times,serif;font-size:10.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_017{font-family:Arial,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_017{font-family:Arial,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_018{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_018{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_019{font-family:"Verdana",serif;font-size:8.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_019{font-family:"Verdana",serif;font-size:8.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_020{font-family:Courier New,serif;font-size:8.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_020{font-family:Courier New,serif;font-size:8.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_023{font-family:Times,serif;font-size:11.1px;color:rgb(17,84,204);font-weight:bold;font-style:normal;text-decoration: underline}
div.cls_023{font-family:Times,serif;font-size:11.1px;color:rgb(17,84,204);font-weight:bold;font-style:normal;text-decoration: none}
-->
</style>
<script type="text/javascript" src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/wz_jsgraphics.js"></script>
</head>
<body>
<div style="position:absolute;left:50%;margin-left:-298px;top:0px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background01.jpg" width=596 height=843></div>
<div style="position:absolute;left:269.48px;top:216.44px" class="cls_003"><span class="cls_003">IE 360</span></div>
<div style="position:absolute;left:147.87px;top:264.22px" class="cls_004"><span class="cls_004">Statistical Forecasting and Time Series</span></div>
<div style="position:absolute;left:192.91px;top:308.51px" class="cls_004"><span class="cls_004">Trendyol Sales Forecasting</span></div>
<div style="position:absolute;left:252.96px;top:353.05px" class="cls_005"><span class="cls_005">Project Report</span></div>
<div style="position:absolute;left:258.22px;top:424.11px" class="cls_006"><span class="cls_006">Ataberk SEVİM</span></div>
<div style="position:absolute;left:255.96px;top:457.88px" class="cls_006"><span class="cls_006">Ayberk AKGÜN</span></div>
<div style="position:absolute;left:237.95px;top:491.66px" class="cls_006"><span class="cls_006">Dilara Gizem GÜLKAN</span></div>
<div style="position:absolute;left:242.45px;top:525.44px" class="cls_006"><span class="cls_006">Mustafa Şahin ÇAKIR</span></div>
<div style="position:absolute;left:267.22px;top:559.22px" class="cls_006"><span class="cls_006">Utku ATAY</span></div>
<div style="position:absolute;left:193.66px;top:624.52px" class="cls_007"><span class="cls_007">Supervisor</span><span class="cls_006">: Mustafa Gökçe BAYDOĞAN</span></div>
<div style="position:absolute;left:217.68px;top:658.30px" class="cls_007"><span class="cls_007">Date of Submission</span><span class="cls_006">: 06.07.2020</span></div>
<div style="position:absolute;left:229.69px;top:692.83px" class="cls_008"><span class="cls_008">Department of Industrial Engineering</span></div>
<div style="position:absolute;left:261.22px;top:718.35px" class="cls_008"><span class="cls_008">Boğaziçi University</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:853px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background02.jpg" width=596 height=843></div>
<div style="position:absolute;left:72.06px;top:71.31px" class="cls_007"><span class="cls_007">TABLE OF CONTENTS</span></div>
<div style="position:absolute;left:83.32px;top:122.35px" class="cls_006"><span class="cls_006">1.</span></div>
<div style="position:absolute;left:108.09px;top:122.35px" class="cls_006"><span class="cls_006">Introduction</span></div>
<div style="position:absolute;left:93.83px;top:148.62px" class="cls_006"><span class="cls_006">1.1.  Problem Definition</span></div>
<div style="position:absolute;left:93.83px;top:174.90px" class="cls_006"><span class="cls_006">1.2.   Summary of Proposed Approach</span></div>
<div style="position:absolute;left:93.83px;top:201.17px" class="cls_006"><span class="cls_006">1.3.   Descriptive Analysis</span></div>
<div style="position:absolute;left:83.32px;top:227.44px" class="cls_006"><span class="cls_006">2.</span></div>
<div style="position:absolute;left:108.09px;top:227.44px" class="cls_006"><span class="cls_006">Literature Review</span></div>
<div style="position:absolute;left:83.32px;top:253.71px" class="cls_006"><span class="cls_006">3.</span></div>
<div style="position:absolute;left:108.09px;top:253.71px" class="cls_006"><span class="cls_006">Solution Approach</span></div>
<div style="position:absolute;left:83.32px;top:279.98px" class="cls_006"><span class="cls_006">4.</span></div>
<div style="position:absolute;left:108.09px;top:279.98px" class="cls_006"><span class="cls_006">Results and Discussion</span></div>
<div style="position:absolute;left:83.32px;top:306.26px" class="cls_006"><span class="cls_006">5.</span></div>
<div style="position:absolute;left:108.09px;top:306.26px" class="cls_006"><span class="cls_006">Conclusion and Future Work</span></div>
<div style="position:absolute;left:83.32px;top:332.53px" class="cls_006"><span class="cls_006">6.</span></div>
<div style="position:absolute;left:108.09px;top:332.53px" class="cls_006"><span class="cls_006">Code</span></div>
<div style="position:absolute;left:90.08px;top:358.80px" class="cls_011"><span class="cls_011">1. Introduction</span></div>
<div style="position:absolute;left:108.09px;top:406.84px" class="cls_007"><span class="cls_007">1.1.  Problem Definition</span></div>
<div style="position:absolute;left:108.09px;top:447.38px" class="cls_006"><span class="cls_006">In this project, our aim is to develop a forecasting model to predict the daily sales of</span></div>
<div style="position:absolute;left:72.06px;top:475.90px" class="cls_006"><span class="cls_006">eight products that are sold in Trendyol. Every day for a month, we were expected to submit</span></div>
<div style="position:absolute;left:72.06px;top:504.42px" class="cls_006"><span class="cls_006">our predictions of the daily sales of each product.</span></div>
<div style="position:absolute;left:108.09px;top:544.96px" class="cls_006"><span class="cls_006">This project was a challenge that was created with the support of Trendyol to</span></div>
<div style="position:absolute;left:72.06px;top:573.48px" class="cls_006"><span class="cls_006">encourage the teams to build a forecasting tool that can be utilized in business applications.</span></div>
<div style="position:absolute;left:72.06px;top:602.01px" class="cls_006"><span class="cls_006">Each team has gained points every day, depending on how accurate their predictions were. At</span></div>
<div style="position:absolute;left:72.06px;top:630.53px" class="cls_006"><span class="cls_006">the end of the challenge period, the overall scores show the success and accuracy of the</span></div>
<div style="position:absolute;left:72.06px;top:659.05px" class="cls_006"><span class="cls_006">teams.</span></div>
<div style="position:absolute;left:108.09px;top:699.59px" class="cls_006"><span class="cls_006">The characteristics of the products are given below in Table 1. We have used the</span></div>
<div style="position:absolute;left:72.06px;top:728.11px" class="cls_006"><span class="cls_006">forecasting methods that we’ve learned in IE 360 lectures and from the DataCamp</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">1</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:1706px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background03.jpg" width=596 height=843></div>
<div style="position:absolute;left:72.06px;top:71.31px" class="cls_006"><span class="cls_006">assignments to build our forecasting model. We were accessing the most recent data (which</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">includes the sales of the previous day) through an application programming interface.</span></div>
<div style="position:absolute;left:216.18px;top:246.96px" class="cls_014"><span class="cls_014">Table 1: Product Characteristics</span></div>
<div style="position:absolute;left:90.08px;top:284.49px" class="cls_007"><span class="cls_007">1.2.  Summary of Proposed Approach</span></div>
<div style="position:absolute;left:108.09px;top:325.02px" class="cls_006"><span class="cls_006">As a starting point, during the test period, we all have selected two products to</span></div>
<div style="position:absolute;left:72.06px;top:353.55px" class="cls_006"><span class="cls_006">analyze in detail. After this deep dive analysis, we have shared our findings on the products</span></div>
<div style="position:absolute;left:72.06px;top:382.07px" class="cls_006"><span class="cls_006">with each other so that we were on the same page and had the same knowledge. We’ve tried</span></div>
<div style="position:absolute;left:72.06px;top:410.59px" class="cls_006"><span class="cls_006">out the methods that we’ve learned from the lectures and DataCamp assignments. We’ve</span></div>
<div style="position:absolute;left:72.06px;top:439.12px" class="cls_006"><span class="cls_006">discussed the initial models that we’ve formed individually. We’ve decided on which</span></div>
<div style="position:absolute;left:72.06px;top:467.64px" class="cls_006"><span class="cls_006">approaches to try and implement on each product. Then, we were at the stage to come up</span></div>
<div style="position:absolute;left:72.06px;top:496.17px" class="cls_006"><span class="cls_006">with a holistic forecasting model using all this knowledge from our initial descriptive analysis</span></div>
<div style="position:absolute;left:72.06px;top:524.69px" class="cls_006"><span class="cls_006">and forecasting method trials. Our final proposed approach to predict the online retail sales of</span></div>
<div style="position:absolute;left:72.06px;top:553.21px" class="cls_006"><span class="cls_006">eight Trendyol products is a forecasting model that will be discussed in detail in later</span></div>
<div style="position:absolute;left:72.06px;top:581.74px" class="cls_006"><span class="cls_006">sections.</span></div>
<div style="position:absolute;left:108.09px;top:622.27px" class="cls_007"><span class="cls_007">1.3. Descriptive Analysis of Data</span></div>
<div style="position:absolute;left:108.09px;top:662.81px" class="cls_006"><span class="cls_006">Aside from the daily sales data, we were provided with many daily attributes such as</span></div>
<div style="position:absolute;left:72.06px;top:691.33px" class="cls_006"><span class="cls_006">price, number of viewings, number of markings as favorite product as shown in the figure</span></div>
<div style="position:absolute;left:72.06px;top:719.85px" class="cls_006"><span class="cls_006">below:</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">2</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:2559px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background04.jpg" width=596 height=843></div>
<div style="position:absolute;left:216.18px;top:179.90px" class="cls_014"><span class="cls_014">Figure 1: Contents of the Data</span></div>
<div style="position:absolute;left:108.09px;top:215.43px" class="cls_006"><span class="cls_006">The last four time-related attributes on the list in the figure are added by us to make</span></div>
<div style="position:absolute;left:72.06px;top:243.95px" class="cls_006"><span class="cls_006">easier manipulations on the data. In order to make the descriptive analysis separately on the</span></div>
<div style="position:absolute;left:72.06px;top:272.48px" class="cls_006"><span class="cls_006">products, we’ve abstracted a single product ID at a time from the raw data and started the</span></div>
<div style="position:absolute;left:72.06px;top:301.00px" class="cls_006"><span class="cls_006">analysis. As an example, let’s take the product with the ID 6676673 which is a Xiaomi</span></div>
<div style="position:absolute;left:72.06px;top:329.53px" class="cls_006"><span class="cls_006">earphone.</span></div>
<div style="position:absolute;left:180.15px;top:435.87px" class="cls_014"><span class="cls_014">Figure 2: An Example of Single Product Abstraction</span></div>
<div style="position:absolute;left:90.08px;top:471.40px" class="cls_006"><span class="cls_006">First we’ve observed the sales of the specified product throughout the time period.</span></div>
<div style="position:absolute;left:126.11px;top:511.93px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:141.36px;top:511.93px" class="cls_006"><span class="cls_006">Data Period: 30.04.2019 - 13.06.2020</span></div>
<div style="position:absolute;left:126.11px;top:545.71px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:141.36px;top:545.71px" class="cls_006"><span class="cls_006">Challenge Period: 16.05.2020 - 13.06.2020</span></div>
<div style="position:absolute;left:108.09px;top:579.49px" class="cls_006"><span class="cls_006">During the challenge period, we were provided with the actual sales of the previous</span></div>
<div style="position:absolute;left:72.06px;top:608.01px" class="cls_006"><span class="cls_006">day to be able to improve our model or try different approaches. The graph below shows the</span></div>
<div style="position:absolute;left:72.06px;top:636.53px" class="cls_006"><span class="cls_006">outliers and sales trends in our data. For this earphone product, the first 52 days were omitted</span></div>
<div style="position:absolute;left:72.06px;top:665.06px" class="cls_006"><span class="cls_006">during our forecasting trials since there were zero sales. We’ve assumed that the product was</span></div>
<div style="position:absolute;left:72.06px;top:693.58px" class="cls_006"><span class="cls_006">not listed in Trendyol until 20.06.2019.</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">3</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:3412px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background05.jpg" width=596 height=843></div>
<div style="position:absolute;left:108.09px;top:71.31px" class="cls_006"><span class="cls_006">The maximum number of sales occurred in Black Friday (29.11.2019) which was</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">around 9K sales. Aside from Black Friday outlier, there were a couple more outliers around</span></div>
<div style="position:absolute;left:72.06px;top:128.36px" class="cls_006"><span class="cls_006">3K. In some of our attempts to improve our models, we’ve omitted the outliers by changing</span></div>
<div style="position:absolute;left:72.06px;top:156.88px" class="cls_006"><span class="cls_006">their sales manually to the overall average so that they wouldn’t act as outliers anymore. In</span></div>
<div style="position:absolute;left:72.06px;top:185.41px" class="cls_006"><span class="cls_006">some cases, we’ve let the outliers stay in the data as-is.</span></div>
<div style="position:absolute;left:207.92px;top:298.50px" class="cls_014"><span class="cls_014">Figure 3: All Sales Data of Product No. 6676673</span></div>
<div style="position:absolute;left:108.09px;top:334.03px" class="cls_006"><span class="cls_006">We had to divide our data in two parts as the training set and the test set to see if our</span></div>
<div style="position:absolute;left:72.06px;top:355.80px" class="cls_006"><span class="cls_006">manipulations on the training set will result in meaningful forecasts that match with the test</span></div>
<div style="position:absolute;left:72.06px;top:377.57px" class="cls_006"><span class="cls_006">set. We’ve tried a few different training and test set periods but the one that we’ve decided to</span></div>
<div style="position:absolute;left:72.06px;top:399.34px" class="cls_006"><span class="cls_006">go with was the following:</span></div>
<div style="position:absolute;left:72.06px;top:433.11px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:433.11px" class="cls_006"><span class="cls_006">Training dates: From the beginning of data to 30.04.2020 (For the earphone product,</span></div>
<div style="position:absolute;left:90.08px;top:454.88px" class="cls_006"><span class="cls_006">beginning is 20.06.2019 as mentioned before)</span></div>
<div style="position:absolute;left:72.06px;top:488.66px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:488.66px" class="cls_006"><span class="cls_006">Test dates: 01.05.2020 - most recent data</span></div>
<div style="position:absolute;left:108.09px;top:522.44px" class="cls_006"><span class="cls_006">The graphs that show the number of sales in training and test sets of Product No.</span></div>
<div style="position:absolute;left:72.06px;top:550.96px" class="cls_006"><span class="cls_006">6676673 are given below:</span></div>
<div style="position:absolute;left:180.15px;top:698.59px" class="cls_014"><span class="cls_014">Figure 4&5: Training and Test Sets of Product No. 6676673</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">4</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:4265px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background06.jpg" width=596 height=843></div>
<div style="position:absolute;left:170.39px;top:191.91px" class="cls_014"><span class="cls_014">Figure 6: Average sales by day of the week of Product No. 6676673</span></div>
<div style="position:absolute;left:108.09px;top:215.43px" class="cls_006"><span class="cls_006">We’ve tried to find out the specific properties of the sales. As the above figure</span></div>
<div style="position:absolute;left:72.06px;top:243.95px" class="cls_006"><span class="cls_006">demonstrates, we’ve checked if the sales depend on the day of the week. We wanted to see if</span></div>
<div style="position:absolute;left:72.06px;top:272.48px" class="cls_006"><span class="cls_006">the sales are higher significantly on the weekend but in this case the sales on weekend were</span></div>
<div style="position:absolute;left:72.06px;top:301.00px" class="cls_006"><span class="cls_006">lower than most days.</span></div>
<div style="position:absolute;left:108.09px;top:341.54px" class="cls_006"><span class="cls_006">In this descriptive analysis stage, we’ve also checked if the number of sales correlates</span></div>
<div style="position:absolute;left:72.06px;top:370.06px" class="cls_006"><span class="cls_006">with the price, basket count, etc. The goal was to catch specific attributes of each product to</span></div>
<div style="position:absolute;left:72.06px;top:398.58px" class="cls_006"><span class="cls_006">be able to build our models on strong grounding.</span></div>
<div style="position:absolute;left:108.09px;top:439.12px" class="cls_006"><span class="cls_006">We’ve checked the autocorrelation of the sales data to see if there was any obvious</span></div>
<div style="position:absolute;left:72.06px;top:467.64px" class="cls_006"><span class="cls_006">seasonality that we can make use of. Below is the autocorrelation function graph of the</span></div>
<div style="position:absolute;left:72.06px;top:496.17px" class="cls_006"><span class="cls_006">earphone. There was no seasonality effect for this product. The frequency is 1. That is why</span></div>
<div style="position:absolute;left:72.06px;top:524.69px" class="cls_006"><span class="cls_006">we couldn’t utilize the deseasonalizing/detrending methodology that we’ve learned in our</span></div>
<div style="position:absolute;left:72.06px;top:553.21px" class="cls_006"><span class="cls_006">lectures.</span></div>
<div style="position:absolute;left:185.41px;top:718.10px" class="cls_014"><span class="cls_014">Figure 7: Autocorrelation Function of Product No. 6676673</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">5</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:5118px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background07.jpg" width=596 height=843></div>
<div style="position:absolute;left:108.09px;top:71.31px" class="cls_006"><span class="cls_006">After figuring out if there was any seasonality, we’ve tried some simple forecasting</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">methods such as</span></div>
<div style="position:absolute;left:72.06px;top:140.37px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:140.37px" class="cls_006"><span class="cls_006">Simple Exponential Smoothing</span></div>
<div style="position:absolute;left:72.06px;top:174.15px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:174.15px" class="cls_006"><span class="cls_006">Exponential Smoothing with ETS</span></div>
<div style="position:absolute;left:72.06px;top:207.92px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:207.92px" class="cls_006"><span class="cls_006">Holt's Trend</span></div>
<div style="position:absolute;left:72.06px;top:241.70px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:241.70px" class="cls_006"><span class="cls_006">ARIMA</span></div>
<div style="position:absolute;left:72.06px;top:275.48px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:275.48px" class="cls_006"><span class="cls_006">TBATS</span></div>
<div style="position:absolute;left:72.06px;top:309.26px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:309.26px" class="cls_006"><span class="cls_006">Naïve Forecasting</span></div>
<div style="position:absolute;left:72.06px;top:343.04px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:343.04px" class="cls_006"><span class="cls_006">Linear Regression</span></div>
<div style="position:absolute;left:72.06px;top:376.82px" class="cls_006"><span class="cls_006">·</span></div>
<div style="position:absolute;left:87.32px;top:376.82px" class="cls_006"><span class="cls_006">Mean Forecast</span></div>
<div style="position:absolute;left:108.09px;top:410.59px" class="cls_006"><span class="cls_006">To be able to see which one suits the sales data of the earphone better, we’ve made</span></div>
<div style="position:absolute;left:72.06px;top:439.12px" class="cls_006"><span class="cls_006">comparisons between the methods by simply checking the errors. For this product, we’ve</span></div>
<div style="position:absolute;left:72.06px;top:467.64px" class="cls_006"><span class="cls_006">checked the MAPE as shown below:</span></div>
<div style="position:absolute;left:208.68px;top:558.97px" class="cls_014"><span class="cls_014">Figure 8: MAPE Values of Product No. 6676673</span></div>
<div style="position:absolute;left:108.09px;top:594.50px" class="cls_006"><span class="cls_006">The lowest MAPE indicates the better method. In this case, lr_2 has the lowest</span></div>
<div style="position:absolute;left:72.06px;top:623.02px" class="cls_006"><span class="cls_006">MAPE. This linear regression variation considers lag1, lag2 and lag3 values. Of course, this</span></div>
<div style="position:absolute;left:72.06px;top:651.55px" class="cls_006"><span class="cls_006">result does not mean that we should use this LR method to forecast sales during the</span></div>
<div style="position:absolute;left:72.06px;top:680.07px" class="cls_006"><span class="cls_006">challenge. This phase is just a guide to the holistic approach that will be mentioned in later</span></div>
<div style="position:absolute;left:72.06px;top:708.59px" class="cls_006"><span class="cls_006">sections. Also, some of the methods such as ARIMA and linear regression will be discussed .</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">6</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:5971px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background08.jpg" width=596 height=843></div>
<div style="position:absolute;left:90.08px;top:71.31px" class="cls_011"><span class="cls_011">2. Literature Review</span></div>
<div style="position:absolute;left:108.09px;top:119.35px" class="cls_006"><span class="cls_006">While discussing and trying out different models, Forecasting: Principles and Practice</span></div>
<div style="position:absolute;left:72.06px;top:147.87px" class="cls_006"><span class="cls_006">by Hyndman and Athanaspoulos has been a guide throughout the process. Whenever we were</span></div>
<div style="position:absolute;left:72.06px;top:176.40px" class="cls_006"><span class="cls_006">unsure about the statistics behind, we referred to the textbook which is available online.</span></div>
<div style="position:absolute;left:108.09px;top:216.93px" class="cls_006"><span class="cls_006">While adding visit count, sold count and their relation to the big picture were the</span></div>
<div style="position:absolute;left:72.06px;top:245.46px" class="cls_006"><span class="cls_006">biggest challenges of the project, we reviewed Moe and Fader’s article on Dynamic</span></div>
<div style="position:absolute;left:72.06px;top:273.98px" class="cls_006"><span class="cls_006">Conversion Behavior at E-Commerce Sites. The lack of availability of customer based</span></div>
<div style="position:absolute;left:72.06px;top:302.50px" class="cls_006"><span class="cls_006">information and distinct characteristics of products, contribution of conversion rate was</span></div>
<div style="position:absolute;left:72.06px;top:331.03px" class="cls_006"><span class="cls_006">limited for our purpose.</span></div>
<div style="position:absolute;left:90.08px;top:371.56px" class="cls_011"><span class="cls_011">3. Solution Approach</span></div>
<div style="position:absolute;left:108.09px;top:419.60px" class="cls_006"><span class="cls_006">Our initial approach to the problem was analysing the data. There were 8 products</span></div>
<div style="position:absolute;left:72.06px;top:448.13px" class="cls_006"><span class="cls_006">with different prices and different sales values. Before using the data, we drop some of the</span></div>
<div style="position:absolute;left:72.06px;top:476.65px" class="cls_006"><span class="cls_006">dates. In some products, sales values were 0 and price was -1 until a date. These dates are</span></div>
<div style="position:absolute;left:72.06px;top:505.17px" class="cls_006"><span class="cls_006">dropped with the assumption that this product has not sold until that date. After the</span></div>
<div style="position:absolute;left:72.06px;top:533.70px" class="cls_006"><span class="cls_006">preprocessing, we decided to go with 5 different models which are:</span></div>
<div style="position:absolute;left:90.08px;top:574.23px" class="cls_017"><span class="cls_017">●</span><span class="cls_006">  Naive</span></div>
<div style="position:absolute;left:90.08px;top:602.76px" class="cls_017"><span class="cls_017">●</span><span class="cls_006">  Arima</span></div>
<div style="position:absolute;left:90.08px;top:631.28px" class="cls_017"><span class="cls_017">●</span><span class="cls_006">  Differenced Arima</span></div>
<div style="position:absolute;left:90.08px;top:659.80px" class="cls_017"><span class="cls_017">●</span><span class="cls_006">  Linear Regression</span></div>
<div style="position:absolute;left:90.08px;top:688.33px" class="cls_017"><span class="cls_017">●</span><span class="cls_006">  Ensemble Method</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">7</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:6824px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background09.jpg" width=596 height=843></div>
<div style="position:absolute;left:72.06px;top:71.31px" class="cls_006"><span class="cls_006">Each day, we trained these 5 models with the new data and then predicted the next day with</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">the best model in terms of MAPE. Therefore, rather than using a single model, each day we</span></div>
<div style="position:absolute;left:72.06px;top:128.36px" class="cls_006"><span class="cls_006">were able to catch new data in our model and also, if another model gives better results with</span></div>
<div style="position:absolute;left:72.06px;top:156.88px" class="cls_006"><span class="cls_006">the new data. We were able to switch between them, this way we created a flexible prediction</span></div>
<div style="position:absolute;left:72.06px;top:185.41px" class="cls_006"><span class="cls_006">system.</span></div>
<div style="position:absolute;left:72.06px;top:225.94px" class="cls_007"><span class="cls_007">Naive</span></div>
<div style="position:absolute;left:72.06px;top:266.47px" class="cls_006"><span class="cls_006">Our naive method consisted of two components. First one is today’s data and the mean of all</span></div>
<div style="position:absolute;left:72.06px;top:295.00px" class="cls_006"><span class="cls_006">sales for a product. Naive method basically, predict next sales value as average of mean of</span></div>
<div style="position:absolute;left:72.06px;top:323.52px" class="cls_006"><span class="cls_006">the sales and lag 1 data. When we were building the naive model, our aim was feeding the</span></div>
<div style="position:absolute;left:72.06px;top:352.05px" class="cls_006"><span class="cls_006">ensemble data with naive predictions. Since predicting only using naive methods will</span></div>
<div style="position:absolute;left:72.06px;top:380.57px" class="cls_006"><span class="cls_006">underfit.</span></div>
<div style="position:absolute;left:72.06px;top:421.10px" class="cls_007"><span class="cls_007">ARIMA</span></div>
<div style="position:absolute;left:72.06px;top:461.64px" class="cls_006"><span class="cls_006">We used basic arima process using auto.arima() function. While calculating the MAPE for</span></div>
<div style="position:absolute;left:72.06px;top:490.16px" class="cls_006"><span class="cls_006">comparison, cross validation is used. Rather than choosing a specific ARIMA process for</span></div>
<div style="position:absolute;left:72.06px;top:518.69px" class="cls_006"><span class="cls_006">each product. We trained ARIMA processes continuously for each new train data. We hoped</span></div>
<div style="position:absolute;left:72.06px;top:547.21px" class="cls_006"><span class="cls_006">this model works better than most of the models, since sales data generally, correlated with</span></div>
<div style="position:absolute;left:72.06px;top:575.73px" class="cls_006"><span class="cls_006">the past data and ARIMA works fairly well with correlated data.</span></div>
<div style="position:absolute;left:72.06px;top:616.27px" class="cls_007"><span class="cls_007">Differenced ARIMA</span></div>
<div style="position:absolute;left:72.06px;top:656.80px" class="cls_006"><span class="cls_006">This method is the same as the classic ARIMA method. However, rather than feeding the</span></div>
<div style="position:absolute;left:72.06px;top:685.33px" class="cls_006"><span class="cls_006">model with past data. We fed the model with the sales increase between days. So this model</span></div>
<div style="position:absolute;left:72.06px;top:713.85px" class="cls_006"><span class="cls_006">tries to understand increase in sales throughout the time.</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">8</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:7677px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background10.jpg" width=596 height=843></div>
<div style="position:absolute;left:72.06px;top:111.84px" class="cls_007"><span class="cls_007">Linear Regression</span></div>
<div style="position:absolute;left:72.06px;top:152.38px" class="cls_006"><span class="cls_006">We tried different Linear Regression methods while building the last linear regression model.</span></div>
<div style="position:absolute;left:72.06px;top:180.90px" class="cls_006"><span class="cls_006">Some of them contained the features Trendyol provided with the sales data and some of them</span></div>
<div style="position:absolute;left:72.06px;top:209.43px" class="cls_006"><span class="cls_006">contained information about weekdays or if the date is weekend or not. We thought about</span></div>
<div style="position:absolute;left:72.06px;top:237.95px" class="cls_006"><span class="cls_006">using the information about event dates, however we found out that there will be no specific</span></div>
<div style="position:absolute;left:72.06px;top:266.47px" class="cls_006"><span class="cls_006">sales event at project timeline. Therefore, we created a linear regression model using the past</span></div>
<div style="position:absolute;left:72.06px;top:295.00px" class="cls_006"><span class="cls_006">sales data. Regression model consisted of today’s data, yesterday’s  data, mean of the last 7</span></div>
<div style="position:absolute;left:72.06px;top:323.52px" class="cls_006"><span class="cls_006">days, the mean of the last 4 weeks and the favored count.</span></div>
<div style="position:absolute;left:72.06px;top:364.06px" class="cls_007"><span class="cls_007">Ensemble Method</span></div>
<div style="position:absolute;left:72.06px;top:404.59px" class="cls_006"><span class="cls_006">The motivation behind this method is to use all information from each model. Some of them</span></div>
<div style="position:absolute;left:72.06px;top:433.11px" class="cls_006"><span class="cls_006">underfit, some of them overfit, however when we create an ensemble method, underfit and</span></div>
<div style="position:absolute;left:72.06px;top:461.64px" class="cls_006"><span class="cls_006">overfit should compensate each other and give better results than each of them. Rather than</span></div>
<div style="position:absolute;left:72.06px;top:490.16px" class="cls_006"><span class="cls_006">taking the average, we build linear regression to make predictions using the outputs of the</span></div>
<div style="position:absolute;left:72.06px;top:518.68px" class="cls_006"><span class="cls_006">other 4 models. Using linear regression, we give weight to each model in our Ensemble</span></div>
<div style="position:absolute;left:72.06px;top:547.21px" class="cls_006"><span class="cls_006">method.</span></div>
<div style="position:absolute;left:90.08px;top:587.74px" class="cls_011"><span class="cls_011">4. Results and Discussion</span></div>
<div style="position:absolute;left:108.09px;top:635.78px" class="cls_006"><span class="cls_006">5 different methods are used in the project to predict the daily sales of each product. It</span></div>
<div style="position:absolute;left:72.06px;top:664.31px" class="cls_006"><span class="cls_006">is possible that performances of each method can vary from day to day. To find the most</span></div>
<div style="position:absolute;left:72.06px;top:692.83px" class="cls_006"><span class="cls_006">appropriate method for each product every day, we study out a model comparison algorithm</span></div>
<div style="position:absolute;left:72.06px;top:721.36px" class="cls_006"><span class="cls_006">which calculates absolute error for each method for each product. After observing the</span></div>
<div style="position:absolute;left:517.18px;top:791.42px" class="cls_009"><span class="cls_009">9</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:8530px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background11.jpg" width=596 height=843></div>
<div style="position:absolute;left:72.06px;top:71.31px" class="cls_006"><span class="cls_006">absolute error, we selected the best method for that product and made predictions by using it.</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">We have repeated the same process every day. A different method can be assigned to the</span></div>
<div style="position:absolute;left:72.06px;top:128.36px" class="cls_006"><span class="cls_006">same product on different days.</span></div>
<div style="position:absolute;left:216.18px;top:263.47px" class="cls_018"><span class="cls_018">Figure 9: Model Comparison Table</span></div>
<div style="position:absolute;left:108.09px;top:304.00px" class="cls_006"><span class="cls_006">The absolute errors of models for 12th July are given in Figure 9 above. Since product</span></div>
<div style="position:absolute;left:72.06px;top:332.53px" class="cls_006"><span class="cls_006">3 is sold almost 0 in each day, our algorithm can’t find proper absolute errors for it. For</span></div>
<div style="position:absolute;left:72.06px;top:361.05px" class="cls_006"><span class="cls_006">instance, arima method is the best for products 1 and 5,  while ensemble method is the best</span></div>
<div style="position:absolute;left:72.06px;top:389.58px" class="cls_006"><span class="cls_006">for products 2 and 4 for 12th July.</span></div>
<div style="position:absolute;left:180.15px;top:520.19px" class="cls_018"><span class="cls_018">Figure 10: Day Predictions Table for 12th July</span></div>
<div style="position:absolute;left:108.09px;top:560.72px" class="cls_006"><span class="cls_006">After finding the best fitting model for that day, we make predictions for products. As</span></div>
<div style="position:absolute;left:72.06px;top:589.24px" class="cls_006"><span class="cls_006">already mentioned, we used different methods for products and our forecast values for 12th</span></div>
<div style="position:absolute;left:72.06px;top:617.77px" class="cls_006"><span class="cls_006">July is expressed in figure 10 above. Last 1 and Last 2 columns show the last 2 days sales for</span></div>
<div style="position:absolute;left:72.06px;top:646.29px" class="cls_006"><span class="cls_006">that product. We added those columns, because we want to see how our predictions are</span></div>
<div style="position:absolute;left:72.06px;top:674.82px" class="cls_006"><span class="cls_006">consistent and reliable.</span></div>
<div style="position:absolute;left:511.18px;top:791.42px" class="cls_009"><span class="cls_009">10</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:9383px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background12.jpg" width=596 height=843></div>
<div style="position:absolute;left:108.09px;top:71.31px" class="cls_006"><span class="cls_006">After the project, we want to find the best fitted model for each product to sum it up.</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">For two of the products, 3904356 and 5926527</span><span class="cls_019">,</span><span class="cls_020"> </span><span class="cls_006">there were rarely sales, so the forecast was</span></div>
<div style="position:absolute;left:72.06px;top:128.36px" class="cls_006"><span class="cls_006">also 0. For the four of the remaining products, 32939029, 5926527, 7061886 and 85004 day</span></div>
<div style="position:absolute;left:72.06px;top:156.88px" class="cls_006"><span class="cls_006">to day variability was relatively smaller. So, ARIMA models gave the better results most of</span></div>
<div style="position:absolute;left:72.06px;top:185.41px" class="cls_006"><span class="cls_006">the time. The biggest challenge was however, forecasting 31515569 and 6676673 which</span></div>
<div style="position:absolute;left:72.06px;top:213.93px" class="cls_006"><span class="cls_006">compose more than 80% of the sales, had a high day to day variability and are prone to</span></div>
<div style="position:absolute;left:72.06px;top:242.45px" class="cls_006"><span class="cls_006">stockouts. Linear regression models were able to seize relations between independent</span></div>
<div style="position:absolute;left:72.06px;top:270.98px" class="cls_006"><span class="cls_006">variables and the forecast, forecasting from two days ago created a setback. After the days of</span></div>
<div style="position:absolute;left:72.06px;top:299.50px" class="cls_006"><span class="cls_006">stockouts however, a naive model was a good choice to provide a solid forecast.</span></div>
<div style="position:absolute;left:90.08px;top:340.03px" class="cls_011"><span class="cls_011">5. Conclusion and Future Work</span></div>
<div style="position:absolute;left:108.09px;top:388.08px" class="cls_006"><span class="cls_006">In this project, five different models were constructed namely Naive, ARIMA,</span></div>
<div style="position:absolute;left:72.06px;top:416.60px" class="cls_006"><span class="cls_006">Differenced ARIMA, Linear Regression, and Ensemble. The detailed information about the</span></div>
<div style="position:absolute;left:72.06px;top:445.12px" class="cls_006"><span class="cls_006">models were discussed in Solution Approach. These models were used to predict the daily</span></div>
<div style="position:absolute;left:72.06px;top:473.65px" class="cls_006"><span class="cls_006">sales of eight different products which are currently available in Trendyol. While submitting</span></div>
<div style="position:absolute;left:72.06px;top:502.17px" class="cls_006"><span class="cls_006">the predictions, instead of using a definite model for each product, we dynamically refreshed</span></div>
<div style="position:absolute;left:72.06px;top:530.69px" class="cls_006"><span class="cls_006">the model choice with the most recent data and compared their performances based on</span></div>
<div style="position:absolute;left:72.06px;top:559.22px" class="cls_006"><span class="cls_006">MAPE. Accordingly, we chose the model with the lowest MAPE and predicted the daily</span></div>
<div style="position:absolute;left:72.06px;top:587.74px" class="cls_006"><span class="cls_006">sales.</span></div>
<div style="position:absolute;left:108.09px;top:628.28px" class="cls_006"><span class="cls_006">As a future work, the ensemble method could be improved. Theoretically, the</span></div>
<div style="position:absolute;left:72.06px;top:656.80px" class="cls_006"><span class="cls_006">ensemble method should have predicted the daily sales better than the others, however that</span></div>
<div style="position:absolute;left:72.06px;top:685.32px" class="cls_006"><span class="cls_006">was not always the case. Furthermore, more detailed information related to the sales and</span></div>
<div style="position:absolute;left:72.06px;top:713.85px" class="cls_006"><span class="cls_006">customers could be used while forecasting. For example, the price of the same product on</span></div>
<div style="position:absolute;left:511.18px;top:791.42px" class="cls_009"><span class="cls_009">11</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-298px;top:10236px;width:596px;height:843px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_id_78c9e4e2-bfc2-11ea-8b25-0cc47a792c0a_files/background13.jpg" width=596 height=843></div>
<div style="position:absolute;left:72.06px;top:71.31px" class="cls_006"><span class="cls_006">another e-commerce platform such as Amazon or Hepsiburada may have an effect on the</span></div>
<div style="position:absolute;left:72.06px;top:99.83px" class="cls_006"><span class="cls_006">daily sales which we predicted in this project. Therefore, the inputs of the models could be</span></div>
<div style="position:absolute;left:72.06px;top:128.36px" class="cls_006"><span class="cls_006">expanded to make more accurate predictions.</span></div>
<div style="position:absolute;left:90.08px;top:168.89px" class="cls_011"><span class="cls_011">6. Code</span></div>
<div style="position:absolute;left:72.06px;top:205.18px" class="cls_023"><span class="cls_023"> </span><A HREF="https://github.com/BU-IE-360/spring20-ayberkakgun/blob/master/forecast_model.R">https://github.com/BU-IE-360/spring20-ayberkakgun/blob/master/forecast_model.R</A> </div>
<div style="position:absolute;left:511.18px;top:791.42px" class="cls_009"><span class="cls_009">12</span></div>
</div>

</body>
</html>
